# 作業ログ: 同一天体再タップでAttachment非表示機能追加

## プロンプト
同じ天体をタッチしたら、Attachmentが消えるようにしてください
VolumeViewも同様に

## 概要
ImmersiveViewとVolumeViewの両方で、同一天体を再タップした際にAttachmentを非表示にするトグル機能を実装しました。

## 変更点

### 1. ImmersiveView.swift (L68-75)
- SpatialTapGestureのonEndedハンドラーに条件分岐を追加
- 現在選択中の天体名と比較し、同一の場合はnilをセットしてAttachmentを非表示
- 異なる天体の場合は新しい天体情報を表示

```swift
if appModel.selectedCelestialBodyName == info.name {
    appModel.selectedCelestialBodyName = nil
    appModel.selectedCelestialBodyDescription = nil
} else {
    appModel.selectedCelestialBodyName = info.name
    appModel.selectedCelestialBodyDescription = info.description
}
```

### 2. VolumeView.swift (L67-74)
- ImmersiveViewと同一のロジックを実装
- 両Viewで一貫した動作を実現

## 動作仕様
- 天体をタップ → Attachment表示
- 同じ天体を再タップ → Attachment非表示
- 別の天体をタップ → 新しいAttachmentに切り替え

## 副作用
なし。既存の機能には影響を与えず、トグル機能のみを追加。

## 関連ファイル
- `/Users/taat/git/SolarSystemClaudeCode/SolarSystemClaudeCode/ImmersiveView.swift`
- `/Users/taat/git/SolarSystemClaudeCode/SolarSystemClaudeCode/VolumeView.swift`
- `/Users/taat/git/SolarSystemClaudeCode/SolarSystemClaudeCode/AppModel.swift` (参照のみ)

## ビルド結果
✅ ビルド成功
✅ Vision Pro実機にインストール完了
✅ アプリ起動確認済み
